# Система туристического агентства

Веб-платформа для туристического агентства с четырьмя типами пользователей (администратор, зарегистрированный пользователь, тех-поддержка и гость). Система позволяет просматривать, фильтровать и бронировать туры, а также обеспечивает техническую поддержку клиентов.

## Архитектура проекта

Проект построен на основе микросервисной архитектуры для обеспечения масштабируемости и гибкости:

1. **База данных** - MySQL
2. **Backend** - Go (с использованием фреймворка Gin)
3. **Frontend** - React с TypeScript
4. **Дополнительные технологии:**
   - Redis для кэширования и управления сессиями
   - JWT для аутентификации
   - bcrypt для хеширования паролей
   - WebSocket для чата тех-поддержки
   - Docker для контейнеризации

## Необходимые требования

- Go 1.21 или выше
- Node.js 18.x или выше
- MySQL 8.0 или выше
- Redis 6.x или выше
- Docker (опционально)

## Установка и запуск

### Backend

1. Клонировать репозиторий:
   ```
   git clone https://github.com/yourusername/tour-agency.git
   cd tour-agency/backend
   ```

2. Установить зависимости:
   ```
   go mod tidy
   ```

3. Настроить конфигурацию в файле `config.json` или через переменные окружения.

4. Инициализировать базу данных:
   ```
   mysql -u root -p < scripts/init_db.sql
   ```

5. Запустить сервер:
   ```
   go run cmd/api/main.go
   ```

### Frontend

1. Перейти в директорию frontend:
   ```
   cd ../frontend
   ```

2. Установить зависимости:
   ```
   npm install
   ```

3. Запустить сервер разработки:
   ```
   npm start
   ```

4. Для сборки проекта:
   ```
   npm run build
   ```

## Структура проекта

### Backend

```
/backend
  /cmd
    /api                   # Точка входа API-сервера
  /internal
    /config                # Конфигурация приложения
    /domain                # Модели домена
    /repository            # Репозитории для работы с БД
    /service               # Бизнес-логика
    /handler               # HTTP-обработчики
    /middleware            # Middleware (JWT, логгирование, и т.д.)
  /pkg
    /auth                  # Аутентификация и авторизация
    /validator             # Валидация данных
    /database              # Работа с БД
    /websocket             # Реализация WebSocket для чата
  /scripts                 # Скрипты для инициализации и миграции БД
```

### Frontend

```
/frontend
  /public                 # Статические файлы
  /src
    /assets               # Статические ресурсы (изображения, шрифты)
    /components           # Переиспользуемые компоненты
      /ui                 # UI компоненты (кнопки, формы и т.д.)
      /layout             # Компоненты макета
      /tour               # Компоненты для работы с турами
      /order              # Компоненты для работы с заказами
      /support            # Компоненты для тех-поддержки
    /pages                # Страницы приложения
    /hooks                # Кастомные хуки
    /services             # Сервисы для работы с API
    /store                # Управление состоянием (Redux или Context API)
    /utils                # Вспомогательные функции
    /routes               # Маршрутизация
    /context              # Контексты React
```

## Роли пользователей

### Гость
- Просмотр туров с фильтрацией (по датам, странам, городам, количеству человек)
- Просмотр детальной информации о турах, отелях, номерах
- Регистрация в системе
- Авторизация в системе

### Пользователь (всё, что может гость +)
- Просмотр и редактирование своего профиля
- Бронирование туров с выбором номера в отеле
- Просмотр истории и статуса своих заказов
- Создание, просмотр и закрытие тикетов тех-поддержки
- Отправка сообщений в открытые тикеты

### Тех-поддержка
- Просмотр всех открытых тикетов
- Изменение статуса тикетов (open, in_progress, closed)
- Ответы на сообщения пользователей

### Администратор
- Управление турами (добавление, удаление, редактирование)
- Управление отелями и номерами
- Управление доступными датами туров
- Просмотр и управление заказами всех пользователей
- Просмотр статистики по продажам и популярности туров
- Управление пользователями и их ролями

## Лицензия

MIT 